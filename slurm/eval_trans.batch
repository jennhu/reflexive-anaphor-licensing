#!/bin/sh
#SBATCH --job-name=eval_trans
#SBATCH --qos=cpl
#SBATCH --time=1-0    # -- first number is days requested, second number is hours
#SBATCH -o logs/eval_transfo_%j.out
#SBATCH -e logs/eval_transfo_%j.err
#SBATCH --gres=gpu:titan-x:1  #  -- request the number of gpus.
#SBATCH -c 1                  #  -- request number of cores
#SBATCH --mem=5G              #  -- request memory
#SBATCH --mail-user=jennhu@mit.edu # -- use this to send an automated email when:
#SBATCH --mail-type=end            # -- your job completes successfully
#SBATCH --mail-type=fail           # -- or if your job fails

MATERIALS="/om/user/jennhu/rnng-refl/materials"
DATA="/om/user/jennhu/rnng-refl/surprisal_data/trans"
TRANS_PATH="/om/group/cpl/language-models/scripts"
EXP=$1

source activate transXL
bash ${TRANS_PATH}/eval_trans.sh \
    ${MATERIALS}/${EXP}_sentences.txt \
    ${DATA}/${EXP}_surprisal_trans.txt
source deactivate
